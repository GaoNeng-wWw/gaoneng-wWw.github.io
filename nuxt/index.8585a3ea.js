import{a as C,s as u,U as N,j as $,P as B,q as g,o as r,B as i,S as c,R as d,a2 as E,Q as t,W as h,X as V,u as j,Z as I,Y as f,a0 as q,F as A}from"./entry.a88ff9a0.js";import F from"./ContentList.46ecc1d7.js";import{u as L}from"./composables.03174cce.js";import{u as S}from"./config.525612b3.js";import"./ContentQuery.35a1e710.js";import"./asyncData.3afeaaf3.js";const T={class:"w-full"},D={key:"content-list-root"},G=["src"],H={class:"w-full flex flex-col gap-0 justify-between"},M={class:"w-full break-all flex-grow-1 text-sm line-clamp-4 text-gray-700 dark:text-gray-300"},O={class:"self-end text-gray-600 dark:text-gray-400 text-sm"},P={class:"text-right"},z=C({__name:"index",async setup(Q){let l,m;const _=u([...([l,m]=N(()=>g().limit(10).find()),l=await l,m(),l)]),w=u(!0),v=$(()=>_.value.map(a=>a.bg)),o=u(),{title:y}=S();let p=1;return L({title:y}),B(()=>{const a=new IntersectionObserver(x=>{x.forEach(s=>{s.isIntersecting&&s.target===o.value&&(w.value=!0,g().limit(10).skip(10*p++).find().then(n=>{n.length>0?_.value.push(...n):(p-=1,a.unobserve(s.target),a.disconnect())}))})});o.value&&a.observe(o.value)}),(a,x)=>{const s=A,n=F;return r(),i("div",T,[c(E,{name:"fade"},{default:d(()=>[t("div",D,[c(n,{key:"content-list"},{default:d(({list:k})=>[(r(!0),i(h,null,V(k,(e,b)=>(r(),i(h,null,[e.show?(r(),i("div",{key:`${e.name}-${e.date}`,class:"flex flex-col min-h-[200px] gap-4 p-4 w-full max-w-11/12 mx-auto sm:h-[200px] sm:max-w-none sm:w-full sm:flex-row transition-all duration-100 bg-gray-100 hover:shadow-md hover:dark:bg-gray-700 dark:bg-gray-800 rounded-lg my-4 first:mt-0 last:mb-0"},[t("img",{src:j(v)[b],alt:"",class:"sm:w-64 overflow-hidden flex-shrink-0 object-cover max-w-full h-[240px] rounded-lg sm:h-full"},null,8,G),t("div",H,[c(s,{to:`${e._path}`,class:"flex-shrink-0 text-xl w-full line-clamp-2 break-all text-gray-800 dark:text-gray-200"},{default:d(()=>[I(f(e.title),1)]),_:2},1032,["to"]),c(s,{to:`${e._path}`,class:"flex-shrink-0 text-xl w-full line-clamp-2 break-all text-gray-800 dark:text-gray-200"},{default:d(()=>[t("span",M,f(e.description),1)]),_:2},1032,["to"]),t("div",O,[t("span",P,f(e.date),1)])])])):q("",!0)],64))),256))]),_:1})])]),_:1}),t("div",{"data-type":"load-more",class:"w-full p-4 bg-gray-500 invisible",ref_key:"loadingElement",ref:o},null,512)])}}});export{z as default};
