export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y){return {data:{"content-query-vnGktSjtmP":{_path:"\u002Fposts\u002Fwhat-is-dns",_draft:p,_partial:p,_locale:"en",_empty:p,title:"DNS原理简述",description:"DNS服务是互联网必不可少的一项服务，在并不遥远的以前，人们需要记忆IP地址来访问网站，这十分的痛苦，但在当时也的确没有什么很好的办法。直到DNS出现了",excerpt:{type:y,children:[{type:a,tag:k,props:{id:q},children:[{type:b,value:r}]},{type:a,tag:l,props:{},children:[{type:a,tag:c,props:{},children:[{type:b,value:z}]},{type:a,tag:c,props:{},children:[{type:b,value:A}]}]},{type:a,tag:k,props:{id:s},children:[{type:b,value:t}]},{type:a,tag:m,props:{id:i},children:[{type:b,value:i}]},{type:a,tag:c,props:{},children:[{type:b,value:B},{type:a,tag:f,props:{},children:[{type:b,value:C}]},{type:b,value:D},{type:a,tag:f,props:{},children:[{type:b,value:E}]},{type:b,value:F}]},{type:a,tag:c,props:{},children:[{type:b,value:G}]},{type:a,tag:l,props:{},children:[{type:a,tag:c,props:{},children:[{type:b,value:H}]}]},{type:a,tag:m,props:{id:j},children:[{type:b,value:j}]},{type:a,tag:c,props:{},children:[{type:b,value:I},{type:a,tag:f,props:{},children:[{type:b,value:J}]},{type:b,value:K}]},{type:a,tag:c,props:{},children:[{type:b,value:L}]},{type:a,tag:d,props:{code:u},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:b,value:u}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:M}]},{type:a,tag:d,props:{code:v},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:b,value:v}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:N}]},{type:a,tag:c,props:{},children:[{type:b,value:O}]},{type:a,tag:d,props:{code:w},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:b,value:w}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:P}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:d,props:{code:x},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:b,value:x}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:R}]},{type:a,tag:c,props:{},children:[{type:b,value:S},{type:a,tag:f,props:{},children:[{type:b,value:T}]}]},{type:a,tag:c,props:{},children:[{type:b,value:U}]},{type:a,tag:c,props:{},children:[{type:a,tag:V,props:{alt:W,src:X},children:[]}]}]},type:"post",bg:"img\u002F13p639.png",date:"2022-12-23T00:00:00.000Z",show:true,body:{type:y,children:[{type:a,tag:k,props:{id:q},children:[{type:b,value:r}]},{type:a,tag:l,props:{},children:[{type:a,tag:c,props:{},children:[{type:b,value:z}]},{type:a,tag:c,props:{},children:[{type:b,value:A}]}]},{type:a,tag:k,props:{id:s},children:[{type:b,value:t}]},{type:a,tag:m,props:{id:i},children:[{type:b,value:i}]},{type:a,tag:c,props:{},children:[{type:b,value:B},{type:a,tag:f,props:{},children:[{type:b,value:C}]},{type:b,value:D},{type:a,tag:f,props:{},children:[{type:b,value:E}]},{type:b,value:F}]},{type:a,tag:c,props:{},children:[{type:b,value:G}]},{type:a,tag:l,props:{},children:[{type:a,tag:c,props:{},children:[{type:b,value:H}]}]},{type:a,tag:m,props:{id:j},children:[{type:b,value:j}]},{type:a,tag:c,props:{},children:[{type:b,value:I},{type:a,tag:f,props:{},children:[{type:b,value:J}]},{type:b,value:K}]},{type:a,tag:c,props:{},children:[{type:b,value:L}]},{type:a,tag:d,props:{code:u},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:a,tag:h,props:{class:n},children:[{type:a,tag:h,props:{},children:[{type:b,value:"; \u003C\u003C\u003E\u003E DiG 9.11.36-RedHat-9.11.36-7.el8 \u003C\u003C\u003E\u003E +trace www.bilibili.com\r\n;; global options: +cmd\r\n.                       86160   IN      NS      e.root-servers.net.\r\n.                       86160   IN      NS      h.root-servers.net.\r\n.                       86160   IN      NS      l.root-servers.net.\r\n.                       86160   IN      NS      i.root-servers.net.\r\n.                       86160   IN      NS      a.root-servers.net.\r\n.                       86160   IN      NS      d.root-servers.net.\r\n.                       86160   IN      NS      c.root-servers.net.\r\n.                       86160   IN      NS      b.root-servers.net.\r\n.                       86160   IN      NS      j.root-servers.net.\r\n.                       86160   IN      NS      k.root-servers.net.\r\n.                       86160   IN      NS      g.root-servers.net.\r\n.                       86160   IN      NS      m.root-servers.net.\r\n.                       86160   IN      NS      f.root-servers.net.\r\n;; Received 525 bytes from 8.8.8.8#53(8.8.8.8) in 0 ms"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:M}]},{type:a,tag:d,props:{code:v},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:a,tag:h,props:{class:n},children:[{type:a,tag:h,props:{},children:[{type:b,value:"com.                    172800  IN      NS      g.gtld-servers.net.\r\ncom.                    172800  IN      NS      d.gtld-servers.net.\r\ncom.                    172800  IN      NS      i.gtld-servers.net.\r\ncom.                    172800  IN      NS      l.gtld-servers.net.\r\ncom.                    172800  IN      NS      a.gtld-servers.net.\r\ncom.                    172800  IN      NS      h.gtld-servers.net.\r\ncom.                    172800  IN      NS      e.gtld-servers.net.\r\ncom.                    172800  IN      NS      j.gtld-servers.net.\r\ncom.                    172800  IN      NS      b.gtld-servers.net.\r\ncom.                    172800  IN      NS      c.gtld-servers.net.\r\ncom.                    172800  IN      NS      m.gtld-servers.net.\r\ncom.                    172800  IN      NS      f.gtld-servers.net.\r\ncom.                    172800  IN      NS      k.gtld-servers.net.\r\n;; Received 1179 bytes from 202.12.27.33#53(m.root-servers.net) in 8 ms"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:N}]},{type:a,tag:c,props:{},children:[{type:b,value:O}]},{type:a,tag:d,props:{code:w},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:a,tag:h,props:{class:n},children:[{type:a,tag:h,props:{},children:[{type:b,value:"bilibili.com.           172800  IN      NS      ns3.dnsv5.com.\r\nbilibili.com.           172800  IN      NS      ns4.dnsv5.com.\r\n;; Received 964 bytes from 2001:502:7094::30#53(j.gtld-servers.net) in 105 ms"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:P}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:d,props:{code:x},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:e},children:[{type:a,tag:h,props:{class:n},children:[{type:a,tag:h,props:{},children:[{type:b,value:"www.bilibili.com.       300     IN      CNAME   a.w.bilicdn1.com.\r\nbilibili.com.           86400   IN      NS      ns4.dnsv5.com.\r\nbilibili.com.           86400   IN      NS      ns3.dnsv5.com.\r\n;; Received 129 bytes from 35.154.34.246#53(ns4.dnsv5.com) in 126 ms"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:R}]},{type:a,tag:c,props:{},children:[{type:b,value:S},{type:a,tag:f,props:{},children:[{type:b,value:T}]}]},{type:a,tag:c,props:{},children:[{type:b,value:U}]},{type:a,tag:c,props:{},children:[{type:a,tag:V,props:{alt:W,src:X},children:[]}]}],toc:{title:e,searchDepth:o,depth:o,links:[{id:q,depth:o,text:r},{id:s,depth:o,text:t,children:[{id:i,depth:Y,text:i},{id:j,depth:Y,text:j}]}]}},_type:"markdown",_id:"content:posts:1.what is DNS.md",_source:"content",_file:"posts\u002F1.what is DNS.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","p","code","","code-inline","pre","span","域名的结构","过程分析","h2","blockquote","h3","line",2,false,"什么是dns","什么是DNS","dns原理","DNS原理","; \u003C\u003C\u003E\u003E DiG 9.11.36-RedHat-9.11.36-7.el8 \u003C\u003C\u003E\u003E +trace www.bilibili.com\r\n;; global options: +cmd\r\n.                       86160   IN      NS      e.root-servers.net.\r\n.                       86160   IN      NS      h.root-servers.net.\r\n.                       86160   IN      NS      l.root-servers.net.\r\n.                       86160   IN      NS      i.root-servers.net.\r\n.                       86160   IN      NS      a.root-servers.net.\r\n.                       86160   IN      NS      d.root-servers.net.\r\n.                       86160   IN      NS      c.root-servers.net.\r\n.                       86160   IN      NS      b.root-servers.net.\r\n.                       86160   IN      NS      j.root-servers.net.\r\n.                       86160   IN      NS      k.root-servers.net.\r\n.                       86160   IN      NS      g.root-servers.net.\r\n.                       86160   IN      NS      m.root-servers.net.\r\n.                       86160   IN      NS      f.root-servers.net.\r\n;; Received 525 bytes from 8.8.8.8#53(8.8.8.8) in 0 ms\n","com.                    172800  IN      NS      g.gtld-servers.net.\r\ncom.                    172800  IN      NS      d.gtld-servers.net.\r\ncom.                    172800  IN      NS      i.gtld-servers.net.\r\ncom.                    172800  IN      NS      l.gtld-servers.net.\r\ncom.                    172800  IN      NS      a.gtld-servers.net.\r\ncom.                    172800  IN      NS      h.gtld-servers.net.\r\ncom.                    172800  IN      NS      e.gtld-servers.net.\r\ncom.                    172800  IN      NS      j.gtld-servers.net.\r\ncom.                    172800  IN      NS      b.gtld-servers.net.\r\ncom.                    172800  IN      NS      c.gtld-servers.net.\r\ncom.                    172800  IN      NS      m.gtld-servers.net.\r\ncom.                    172800  IN      NS      f.gtld-servers.net.\r\ncom.                    172800  IN      NS      k.gtld-servers.net.\r\n;; Received 1179 bytes from 202.12.27.33#53(m.root-servers.net) in 8 ms\n","bilibili.com.           172800  IN      NS      ns3.dnsv5.com.\r\nbilibili.com.           172800  IN      NS      ns4.dnsv5.com.\r\n;; Received 964 bytes from 2001:502:7094::30#53(j.gtld-servers.net) in 105 ms\n","www.bilibili.com.       300     IN      CNAME   a.w.bilicdn1.com.\r\nbilibili.com.           86400   IN      NS      ns4.dnsv5.com.\r\nbilibili.com.           86400   IN      NS      ns3.dnsv5.com.\r\n;; Received 129 bytes from 35.154.34.246#53(ns4.dnsv5.com) in 126 ms\n","root","域名系统（英语：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网","摘自维基百科","在了解DNS解析原理之前，先让我们了解一下域名的结构。我们已 ","www.baidu.com."," 为例。这是一个最简单的域名，一共有四个组成部分, 从左到右分别是",".",", 顶级域，二级域，三级域。","在现在我们不需要输入半角句号，浏览器会帮我们更正。但在不久的以前，人们需要手动加一个半角句号，否则DNS无法解析。至于为什么要这样做，这我也无法搞清楚，知道的小伙伴可以在评论区留言一下，我的猜测是","域名结构本质是一个树结构，第N级域对应的就是第N层，树结构必须有一个根节点，于是就找了一个半角句号做为整棵树的根节点","我们以 ","www.bilibili.com"," 为例。","只是用文字难以表达，我们结合 dig 语句和其跟踪返回结果来一点一点介绍。","由于这里使用的是VPS，DNS服务器就是谷歌的8.8.8.8，国内可能是114.114.114.114。上述是向根服务器请求 .com 顶级域名的地址","DNS会向上述的顶级域服务器发送请求，请求 bilibili.com 这个二级域名","下面这段便是返回的结果","上述结果有两条，dnsv5 是 dnspod 的企业套餐。之后DNS服务器会向 dnspod 发送最后一轮查询，查询 www 这个三级域","下述的CNAME则是最终结果。","bilibili 这个域名的特殊性就导致他不可能有 A 记录，否则就直接被打死了，而是CNAME到CDN。","如果想要获得更简短的的记录，可以使用","dig +short www.bilibili.com","如果用一张图来表示的话，则是这样的","img","DNS原理图","\u002Fimg\u002Fwhat-is-dns\u002Fdns.png",3))